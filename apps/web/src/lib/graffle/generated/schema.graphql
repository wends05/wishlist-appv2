"""A wish item that will be on a user's wishlist"""
interface BaseWish {
  _id: ID
  category: Category
  categoryId: ID
  description: String
  name: String
  owner: User
  ownerId: ID
  status: String
}

"""A category for organizing wishes"""
type Category {
  _id: ID
  description: String
  name: String
}

"""A chat between a wisher and a grantor about a wish"""
type Chat {
  _id: ID
  grantor: User
  grantorId: ID
  messages: [Message!]
  status: ChatStatus
  wish: BaseWish
  wishId: ID
  wisher: User
  wisherId: ID
}

enum ChatStatus {
  ACCEPTED
  DECLINED
  PENDING
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""A wish that is currently being delivered"""
type DeliveringWish implements BaseWish {
  _id: ID
  category: Category
  categoryId: ID
  deliveryDetails: DeliveryDetails
  description: String
  grantor: User
  grantorId: ID
  name: String
  owner: User
  ownerId: ID
  status: String
}

"""Details about the delivery of a wish item"""
type DeliveryDetails {
  carrier: String
  estimatedDeliveryDate: Date
  trackingNumber: String
}

"""A wish that has been fulfilled"""
type FulfilledWish implements BaseWish {
  _id: ID
  category: Category
  categoryId: ID
  deliveryDetails: DeliveryDetails
  description: String
  fulfilledAt: Date
  grantor: User
  grantorId: ID
  name: String
  owner: User
  ownerId: ID
  status: String
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

"""A message sent in a chat between a wisher and a grantor"""
type Message {
  content: String
  createdAt: Date
  sender: User
  senderId: ID
  updatedAt: Date
}

type Mutation {
  createCategory(description: String!, name: String!): Category
  createWish(categoryId: String!, description: String!, name: String!, ownerId: String!): BaseWish
}

"""An open wish that is available for requests"""
type OpenWish implements BaseWish {
  _id: ID
  category: Category
  categoryId: ID
  description: String
  name: String
  owner: User
  ownerId: ID
  status: String
}

"""A pending wish that has an accepted grantor"""
type PendingWish implements BaseWish {
  _id: ID
  category: Category
  categoryId: ID
  description: String
  fulfilledAt: Date
  grantor: User
  grantorId: ID
  name: String
  owner: User
  ownerId: ID
  status: String
}

type Query {
  authenticated: String
  categories: [Category!]
  home(categoryId: String, limit: Int, search: String, skip: Int): [OpenWish!]!
  me: User
  myWishes: [BaseWish!]!
  users: [User!]
  wish(wishId: String!): BaseWish
}

"""A user of the wishlist application"""
type User {
  _id: ID
  clerkId: String
  email: String
  name: String
}